{"mappings":"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","sources":["script.js"],"sourcesContent":["'use strict';\n\n// Data\nconst account1 = {\n  owner: 'Jonas Schmedtmann',\n  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],\n  interestRate: 1.2, // %\n  pin: 1111,\n};\n\nconst account2 = {\n  owner: 'Jessica Davis',\n  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],\n  interestRate: 1.5,\n  pin: 2222,\n};\n\nconst account3 = {\n  owner: 'Steven Thomas Williams',\n  movements: [200, -200, 340, -300, -20, 50, 400, -460],\n  interestRate: 0.7,\n  pin: 3333,\n};\n\nconst account4 = {\n  owner: 'Sarah Smith',\n  movements: [430, 1000, 700, 50, 90],\n  interestRate: 1,\n  pin: 4444,\n};\n\nconst accounts = [account1, account2, account3, account4];\n\n// Elements\nconst labelWelcome = document.querySelector('.welcome');\nconst labelDate = document.querySelector('.date');\nconst labelBalance = document.querySelector('.balance__value');\nconst labelSumIn = document.querySelector('.summary__value--in');\nconst labelSumOut = document.querySelector('.summary__value--out');\nconst labelSumInterest = document.querySelector('.summary__value--interest');\nconst labelTimer = document.querySelector('.timer');\n\nconst containerApp = document.querySelector('.app');\nconst containerMovements = document.querySelector('.movements');\n\nconst btnLogin = document.querySelector('.login__btn');\nconst btnTransfer = document.querySelector('.form__btn--transfer');\nconst btnLoan = document.querySelector('.form__btn--loan');\nconst btnClose = document.querySelector('.form__btn--close');\nconst btnSort = document.querySelector('.btn--sort');\n\nconst inputLoginUsername = document.querySelector('.login__input--user');\nconst inputLoginPin = document.querySelector('.login__input--pin');\nconst inputTransferTo = document.querySelector('.form__input--to');\nconst inputTransferAmount = document.querySelector('.form__input--amount');\nconst inputLoanAmount = document.querySelector('.form__input--loan-amount');\nconst inputCloseUsername = document.querySelector('.form__input--user');\nconst inputClosePin = document.querySelector('.form__input--pin');\n\nconst displayMovements = function (movements, sorted = false) {\n  const mov = sorted ? movements.slice().sort((a, b) => a - b) : movements;\n  mov.forEach((el, i) => {\n    const type = el > 0 ? 'deposit' : 'withdrawal';\n    const html = `<div class=\"movements__row\">\n          <div class=\"movements__type movements__type--${type}\">${\n      i + 1\n    }${type}</div>\n          <div class=\"movements__date\">3 days ago</div>\n          <div class=\"movements__value\">${el}€</div>\n        </div>`;\n\n    containerMovements.insertAdjacentHTML('afterbegin', html);\n  });\n};\n\nconst blanceSummary = function (user) {\n  const balanceIn = user.movements\n    .filter(mov => mov > 0)\n    .reduce((acc, mov) => acc + mov);\n  labelSumIn.innerHTML = `${balanceIn}€`;\n  const balanceOut = user.movements\n    .filter(mov => mov < 0)\n    .reduce((acc, mov) => acc + mov);\n  labelSumOut.innerHTML = `${Math.abs(balanceOut)}€`;\n  const interest = user.movements\n    .filter(mov => mov > 0)\n    .map(interest => (interest * user.interestRate) / 100)\n    .reduce((acc, int) => acc + int);\n  labelSumInterest.innerHTML = `${interest}€`;\n};\n\nconst balancePrint = function (user) {\n  user.balance = user.movements.reduce((acc, mov) => acc + mov);\n  labelBalance.innerHTML = `${user.balance}€`;\n};\n\nconst userName = function (acc) {\n  acc.forEach(function (acc) {\n    acc.username = acc.owner\n      .toLocaleLowerCase()\n      .split(' ')\n      .map(user => user[0])\n      .join('');\n  });\n};\nuserName(accounts);\n\nlet user;\n\nbtnLogin.addEventListener('click', e => {\n  e.preventDefault();\n  user = accounts.find(acc => acc.username === inputLoginUsername.value);\n  if (user.pin === Number(inputLoginPin.value)) {\n    labelWelcome.innerHTML = `Welcome back, ${user.owner.split(' ')[0]}!`;\n    containerApp.style.opacity = 100;\n    balancePrint(user);\n    displayMovements(user.movements);\n    blanceSummary(user);\n    inputLoginPin.value = '';\n    inputLoginUsername.value = '';\n    inputLoginPin.blur();\n    console.log(user.movements);\n  }\n});\n\nbtnTransfer.addEventListener('click', e => {\n  e.preventDefault();\n  const amount = Number(inputTransferAmount.value);\n  const reciever = accounts.find(acc => acc.username == inputTransferTo.value);\n  if (\n    amount > 0 &&\n    user.balance > amount &&\n    reciever &&\n    reciever.username !== user.username\n  ) {\n    user.movements.push(-amount);\n    reciever.movements.push(amount);\n    balancePrint(user);\n    displayMovements(user.movements);\n    blanceSummary(user);\n    inputTransferAmount.value = '';\n    inputTransferTo.value = '';\n    inputTransferAmount.blur();\n  }\n});\n\nbtnLoan.addEventListener('click', e => {\n  e.preventDefault();\n  const amount = Number(inputLoanAmount.value);\n  if (amount > 0 && user.movements.some(e => e >= amount * 0.1)) {\n    setTimeout(() => {\n      user.movements.push(amount);\n\n      balancePrint(user);\n      displayMovements(user.movements);\n      blanceSummary(user);\n    }, 2000);\n  }\n  inputLoanAmount.value = '';\n});\n\nbtnClose.addEventListener('click', e => {\n  e.preventDefault();\n  if (\n    user.username === inputCloseUsername.value &&\n    user.pin === Number(inputClosePin.value)\n  ) {\n    const index = accounts.findIndex(acc => acc.username === user.username);\n    accounts.splice(index, 1);\n    containerApp.style.opacity = 0;\n  }\n});\n\nlet sorted = false;\nbtnSort.addEventListener('click', e => {\n  e.preventDefault();\n  displayMovements(user.movements, !sorted);\n  sorted = !sorted;\n});\n"],"names":[],"version":3,"file":"index.672d4772.js.map","sourceRoot":"/__parcel_source_root/"}