let e;const t=[{owner:"Jonas Schmedtmann",movements:[200,450,-400,3e3,-650,-130,70,1300],interestRate:1.2,pin:1111},{owner:"Jessica Davis",movements:[5e3,3400,-150,-790,-3210,-1e3,8500,-30],interestRate:1.5,pin:2222},{owner:"Steven Thomas Williams",movements:[200,-200,340,-300,-20,50,400,-460],interestRate:.7,pin:3333},{owner:"Sarah Smith",movements:[430,1e3,700,50,90],interestRate:1,pin:4444}],n=document.querySelector(".welcome");document.querySelector(".date");const o=document.querySelector(".balance__value"),r=document.querySelector(".summary__value--in"),u=document.querySelector(".summary__value--out"),m=document.querySelector(".summary__value--interest");document.querySelector(".timer");const l=document.querySelector(".app"),a=document.querySelector(".movements"),c=document.querySelector(".login__btn"),s=document.querySelector(".form__btn--transfer"),i=document.querySelector(".form__btn--loan"),v=document.querySelector(".form__btn--close"),d=document.querySelector(".btn--sort"),_=document.querySelector(".login__input--user"),p=document.querySelector(".login__input--pin"),y=document.querySelector(".form__input--to"),f=document.querySelector(".form__input--amount"),S=document.querySelector(".form__input--loan-amount"),q=document.querySelector(".form__input--user"),b=document.querySelector(".form__input--pin"),L=function(e,t=!1){(t?e.slice().sort((e,t)=>e-t):e).forEach((e,t)=>{let n=e>0?"deposit":"withdrawal",o=`<div class="movements__row">
          <div class="movements__type movements__type--${n}">${t+1}${n}</div>
          <div class="movements__date">3 days ago</div>
          <div class="movements__value">${e}\u{20AC}</div>
        </div>`;a.insertAdjacentHTML("afterbegin",o)})},h=function(e){let t=e.movements.filter(e=>e>0).reduce((e,t)=>e+t);r.innerHTML=`${t}\u{20AC}`;let n=e.movements.filter(e=>e<0).reduce((e,t)=>e+t);u.innerHTML=`${Math.abs(n)}\u{20AC}`;let o=e.movements.filter(e=>e>0).map(t=>t*e.interestRate/100).reduce((e,t)=>e+t);m.innerHTML=`${o}\u{20AC}`},w=function(e){e.balance=e.movements.reduce((e,t)=>e+t),o.innerHTML=`${e.balance}\u{20AC}`};!function(e){e.forEach(function(e){e.username=e.owner.toLocaleLowerCase().split(" ").map(e=>e[0]).join("")})}(t),c.addEventListener("click",o=>{o.preventDefault(),(e=t.find(e=>e.username===_.value)).pin===Number(p.value)&&(n.innerHTML=`Welcome back, ${e.owner.split(" ")[0]}!`,l.style.opacity=100,w(e),L(e.movements),h(e),p.value="",_.value="",p.blur(),console.log(e.movements))}),s.addEventListener("click",n=>{n.preventDefault();let o=Number(f.value),r=t.find(e=>e.username==y.value);o>0&&e.balance>o&&r&&r.username!==e.username&&(e.movements.push(-o),r.movements.push(o),w(e),L(e.movements),h(e),f.value="",y.value="",f.blur())}),i.addEventListener("click",t=>{t.preventDefault();let n=Number(S.value);n>0&&e.movements.some(e=>e>=.1*n)&&setTimeout(()=>{e.movements.push(n),w(e),L(e.movements),h(e)},2e3),S.value=""}),v.addEventListener("click",n=>{if(n.preventDefault(),e.username===q.value&&e.pin===Number(b.value)){let n=t.findIndex(t=>t.username===e.username);t.splice(n,1),l.style.opacity=0}});let $=!1;d.addEventListener("click",t=>{t.preventDefault(),L(e.movements,!$),$=!$});
//# sourceMappingURL=index.b4f31722.js.map
